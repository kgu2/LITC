<template>
  <slot>
    <div class="nds-omniscript_stepform nds-size_1-of-1 nds-small-size_1-of-1 nds-medium-size_8-of-12 nds-large-size_6-of-12 nds-align_absolute-center nds-grid nds-m-top_x-large nds-m-bottom_x-large">
      <div class="nds-size_1-of-1">
        <div class="nds-progress">
          <ol class="nds-progress__list">
            <template for:each={jsonDef.children}
                      for:item="step"
                      for:index="index">
              <template if:true={step.isStep}>
                <c-omniscript-step-chart-items key={step.name}
                                               json-def={step}
                                               theme={_theme}
                                               json-data={jsonDef.response}
                                               current-index={currentIndex}
                                               script-header-def={scriptHeaderDef}>
                </c-omniscript-step-chart-items>
              </template>
            </template>
          </ol>
          <div class="nds-progress-bar nds-progress-bar_x-small"
               aria-valuemin="0"
               aria-valuemax="100"
               aria-valuenow={stepProgressValue}
               role="progressbar">
            <span class="nds-progress-bar__value">
              <span class="nds-assistive-text">Progress: {stepProgressValue}%</span>
            </span>
          </div>
        </div>
      </div>
    </div>
  </slot>
</template>